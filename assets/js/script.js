const buttons = document.getElementsByTagName("button");
const userScore = document.getElementById("user-score");
const computerScore = document.getElementById("computer-score");
const userImage = document.getElementById("user-image");
const computerImage = document.getElementById("computer-image");
const winner = document.getElementById("winner");
const choices= ['rock','paper','scissors'];
let randomNum;



document.addEventListener("DOMContentLoaded",function(){
    
    for (let button of buttons){
        button.addEventListener("click",function(){
          let userChoice = this.getAttribute("data-type");
          startGame(userChoice);
          winner.textContent = checkWinner(userChoice,choices);
          countScore();
         
          
        })
    }
})
/**
 * Starts the game by displaying the image related to the user choice of button
 * and displays the image corresponding the random number generated by code each time user chooses
 */
function startGame(userChoice) {
    
    userImage.src = `assets/images/${userChoice}.jpg`;
    userImage.alt = userChoice;
    randomNum = Math.floor(Math.random()*3);
    computerImage.src = `assets/images/${choices[randomNum]}.jpg`;
    computerImage.alt = choices[randomNum];
    
 }
    
  



/**
 * Calculates who wins by comparing the choice of user and result of computer generated answer
 * returns the message given out to user upon determination of winner
 */
function checkWinner(userChoice, choices){
    if (userChoice === choices[randomNum]){
        return "It's a tie!";
    }
    else if (choices[randomNum] === 'rock'){
        return (userChoice === 'paper') ? "You win!" : "You lose!";
    }
    else if (choices[randomNum] === 'paper'){
        return (userChoice === 'scissors') ? "You win!" : "You lose!";
    }
    else if (choices[randomNum] === 'scissors'){
        return (userChoice === 'rock') ? "You win!" : "You lose!";
    }
    
}

/**
 * Brings the data of the point both players have and increments according to the winner
 */
function countScore(){
    
    if (winner.textContent === "You win!"){
        let userOldScore = parseInt(document.getElementById("user-score").innerText);
        userScore.innerText = ++userOldScore;
    }
    else if (winner.textContent === "You lose!") {

        let computerOldScore = parseInt(document.getElementById("computer-score").innerText);
        computerScore.innerText = ++computerOldScore;
    }
    else {
        let userOldScore = parseInt(document.getElementById("user-score").innerText);
        let computerOldScore = parseInt(document.getElementById("computer-score").innerText);
        userScore.innerText = ++userOldScore;
        computerScore.innerText = ++computerOldScore;

    }
    
    
}
    
    

    

 






